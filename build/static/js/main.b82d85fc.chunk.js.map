{"version":3,"sources":["rescueLanding.jpg","landing.js","pet-info.js","config.js","waiting-list.js","adopt-page.js","app/app.js","index.js"],"names":["module","exports","Landing","className","src","landingPhoto","alt","onClick","props","history","push","Component","PetInfo","this","pet","name","gender","age","imageURL","breed","story","defaultProps","WaitingList","e","preventDefault","target","value","reset","fetch","config","method","headers","body","JSON","stringify","then","res","ok","json","Promise","reject","updateState","people","map","person","i","key","renderWaitList","onSubmit","handleSubmit","htmlFor","type","id","AdoptPage","state","pets","user","adoptInterval","clearInterval","interval","all","peopleRes","petsRes","setState","checkLine","catch","error","console","petType","Math","random","setInterval","deletePet","log","cat","dog","App","to","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b82d85fc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/rescueLanding.159bd276.jpg\";","import React, { Component } from 'react';\nimport landingPhoto from './rescueLanding.jpg';\n\nexport class Landing extends Component {\n  render() {\n    return (\n      <div className=\"landing\">\n        <h2>This is Petful, a first come first serve animal rescue.</h2>\n\n        <div className=\"landing-body\">\n          <img src={landingPhoto} alt=\"cat and dog on bike\" />\n          <h3>The Process:</h3>\n          <p>\n            If you'd like to adopt you must join our queue. You can watch in\n            real time as pets are being adopted.\n          </p>\n\n          <p>\n            When you join the adoption waiting list, you'll wait until you are\n            at the top.{' '}\n          </p>\n          <p>\n            Once it's your turn to pick, you will to get choose to adopt either\n            a cat or a dog. You must adopt the dog or cat that has been there\n            the longest.\n          </p>\n\n          <button onClick={() => this.props.history.push('/pets')}>\n            Click here to start\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Landing;\n","import React, { Component } from 'react';\n\nexport class PetInfo extends Component {\n  static defaultProps = {\n    pet: {},\n  };\n  render() {\n    return (\n      <div>\n        <h3>\n          {this.props.pet.name}\n          {', '}\n          {this.props.pet.gender}\n          {', '} {this.props.pet.age}\n        </h3>\n        <figure>\n          <img src={this.props.pet.imageURL} alt=\"pet\" />\n          <figcaption>Breed: {this.props.pet.breed}</figcaption>\n        </figure>\n        <h4>Reason for Adoption:</h4>\n        <p>{this.props.pet.story}</p>\n      </div>\n    );\n  }\n}\n\nexport default PetInfo;\n","// eslint-disable-next-line\nexport default {\n  API_ENDPOINT: 'https://calm-journey-12433.herokuapp.com/api',\n};\n","import React, { Component } from 'react';\nimport config from './config';\n\nexport class WaitingList extends Component {\n  handleSubmit(e) {\n    e.preventDefault();\n    let name = e.target['name'].value;\n    e.target.reset();\n\n    fetch(`${config.API_ENDPOINT}/people`, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify({ name: name }),\n    })\n      .then((res) => {\n        if (!res.ok) return res.json().then((e) => Promise.reject(e));\n        return res.json();\n      })\n      .then(() => {\n        this.props.updateState(name);\n      });\n  }\n\n  renderWaitList() {\n    const people = this.props.people;\n    return people.map((person, i) => {\n      return i === 0 ? (\n        <li key={i}>\n          <b>{person}</b>\n        </li>\n      ) : (\n        <li key={i}>{person}</li>\n      );\n    });\n  }\n  render() {\n    return (\n      <div>\n        <h3>Waiting List:</h3>\n        <ol>{this.renderWaitList()}</ol>\n        <legend>\n          <b>Add your name</b>\n        </legend>\n        <form onSubmit={(e) => this.handleSubmit(e)}>\n          <div className=\"group\">\n            <label htmlFor=\"name\">Name: </label>\n            <input type=\"text\" id=\"name\"></input>{' '}\n            <button type=\"submit\">Submit</button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default WaitingList;\n","import React, { Component } from 'react';\nimport PetInfo from './pet-info';\nimport WaitingList from './waiting-list';\nimport config from './config';\n\nexport class AdoptPage extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      pets: [],\n      people: [],\n      user: '',\n    };\n  }\n  componentDidMount() {\n    this.updateState();\n    this.adoptInterval();\n  }\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n  updateState() {\n    Promise.all([\n      fetch(`${config.API_ENDPOINT}/people`, {\n        method: 'GET',\n        headers: {\n          'content-type': 'application/json',\n        },\n      }),\n      fetch(`${config.API_ENDPOINT}/pets`, {\n        method: 'GET',\n        headers: {\n          'content-type': 'application/json',\n        },\n      }),\n    ])\n      .then(([peopleRes, petsRes]) => {\n        if (!peopleRes.ok) {\n          return peopleRes.json().then((e) => Promise.reject(e));\n        }\n        if (!petsRes.ok) {\n          return petsRes.json().then((e) => Promise.reject(e));\n        }\n        return Promise.all([peopleRes.json(), petsRes.json()]);\n      })\n      .then(([people, pets]) => {\n        this.setState({ people, pets });\n        this.checkLine();\n      })\n      .catch((error) => {\n        console.error({ error });\n      });\n  }\n  deletePet(petType) {\n    if (!petType) {\n      petType = Math.random() >= 0.5 ? 'cats' : 'dogs';\n    } else {\n      this.adoptInterval();\n    }\n\n    fetch(`${config.API_ENDPOINT}/pets/${petType}`, {\n      method: 'DELETE',\n      headers: {\n        'content-type': 'application/json',\n      },\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return res.json().then((e) => Promise.reject(e));\n        }\n        return res.json();\n      })\n      .then(() => {\n        this.updateState();\n      })\n      .catch((error) => {\n        console.error({ error });\n      });\n  }\n  handleSubmit(user) {\n    this.setState({ user: user });\n    this.updateState();\n  }\n  adoptInterval() {\n    this.interval = setInterval(() => {\n      this.deletePet();\n    }, 3000);\n  }\n  checkLine() {\n    if (this.state.people[0] === this.state.user) {\n      clearInterval(this.interval);\n      console.log('FRONT OF THE LINE');\n    }\n  }\n  render() {\n    return (\n      <div>\n        <div className=\"pet-list\">\n          <h2>Our Current Pets</h2>\n          <PetInfo type=\"cat\" pet={this.state.pets.cat} />\n          <PetInfo type=\"dog\" pet={this.state.pets.dog} />\n        </div>\n        {this.state.people[0] === this.state.user ? (\n          <div>\n            <button onClick={() => this.deletePet('cats')}>Adopt Cat</button>{' '}\n            <button onClick={() => this.deletePet('dogs')}>Adopt dog</button>\n          </div>\n        ) : (\n          <WaitingList\n            people={this.state.people}\n            updateState={(user) => this.handleSubmit(user)}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default AdoptPage;\n","import React from 'react';\nimport { Route, Link } from 'react-router-dom';\nimport Landing from '../landing';\nimport AdoptPage from '../adopt-page';\nimport './app.css';\n\nfunction App() {\n  return (\n    <div>\n      <header>\n        <Link to=\"/\">\n          <h1>Petful</h1>\n        </Link>\n      </header>\n      <main>\n        <Route exact path=\"/\" component={Landing} />\n        <Route path=\"/pets\" component={AdoptPage} />\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './app/app';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}